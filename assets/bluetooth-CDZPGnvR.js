import{aC as p,t as l,x as u}from"./index-CkmlDq5s.js";import{b as v}from"./managers-DDv6KUjV.js";const M=p("bluetooth",()=>{const s=l([]),n=l([""]),o=u({}),i=u({});return{currentFilters:s,currentOptionalServices:n,messages:o,recognizedDevices:i,removeRecognizedDevice:e=>{delete i[e]},addOptionalService:()=>{n.value.push("")},removeOptionalService:e=>{n.value.splice(e,1)},addFilter:()=>{s.value.push({})},removeFilter:e=>{s.value.splice(e,1)},connect:async e=>{let t;e?t=i[e]?.options:s.value.length===0?t={acceptAllDevices:!0,optionalServices:n.value}:t={filters:s.value,optionalServices:n.value};const r=await v.connect(t);return r?(i[r.id]={id:r.id,name:r.name,options:t},!0):!1},sendMessage:async(e,t,r,c)=>{const a=v.deviceMap.get(e);return a&&await a.write(t,r,c)?(o[e]??=[],o[e].push({type:"send",data:c}),!0):!1}}},{persist:{pick:["currentFilters","currentOptionalServices","recognizedDevices"]}});export{M as u};
