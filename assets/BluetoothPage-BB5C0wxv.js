import{Q as x}from"./QToolbarTitle-zGrRnMMk.js";import{Q as M,c as h,b as V,a as w}from"./QTabPanels-PmZjQGGT.js";import{Q as P}from"./QToolbar-Bxngc2Qx.js";import{A as T,t as B,w as C,_ as D,C as o,D as n,E as a,F as t,J as i,K as c,T as S,M as f,N as b,O as _,R as z,S as N,a9 as q,U as y,P as L}from"./index-CkmlDq5s.js";import{Q as U}from"./QChip-CRAwVKBI.js";import{Q as v}from"./QItemLabel-aXRmSGyF.js";import{Q as j,a as I}from"./QItem-C5ZHiONh.js";import{Q as A}from"./QList-DzgQXkIT.js";import{Q as E}from"./QPage-BJDcQjnb.js";import{bus as F}from"./bus-Dx35rC91.js";import{b as k}from"./managers-DDv6KUjV.js";import{c as O}from"./common-DE0SbnG8.js";import{u as J}from"./vue-i18n.runtime-CmCsUbpb.js";import"./QResizeObserver-COOC36Sn.js";import"./rtl-DFPa-2ov.js";import"./touch-BjYP5sR0.js";import"./selection-oP5RpDT_.js";import"./i18n-DDsdsaPU.js";const K=T({__name:"BluetoothPage",setup(g,{expose:l}){l();const u=B(""),e=O(J(),"pages.BluetoothPage.");C(k.deviceMap,p=>{p.size&&(u.value=p.keys().next().value)},{deep:!0});const m={currentDeviceId:u,i18n:e,get bus(){return F},get bluetoothManager(){return k}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),R={class:"row q-gutter-xs items-start"},G={class:"row justify-end",style:{width:"3.8rem"}};function H(g,l,u,e,m,p){return o(),n(E,{class:"column"},{default:a(()=>[t(P,{class:z(g.$q.dark.isActive?"bg-dark":"bg-grey-1")},{default:a(()=>[t(x,{shrink:""},{default:a(()=>[i(c(e.i18n("labels.devices")),1)]),_:1}),t(M,{"active-bg-color":e.bluetoothManager.deviceMap.size===0?"green":"primary","indicator-color":"transparent","inline-label":"","no-caps":"",modelValue:e.currentDeviceId,"onUpdate:modelValue":l[1]||(l[1]=r=>e.currentDeviceId=r)},{default:a(()=>[e.bluetoothManager.deviceMap.size===0?(o(),n(h,{key:0,class:"text-italic text-weight-bold",label:e.i18n("labels.noDevice"),name:"",onClick:l[0]||(l[0]=r=>e.bus.emit("drawer","open","right"))},null,8,["label"])):S("",!0),(o(!0),f(_,null,b(e.bluetoothManager.deviceMap,([r,d])=>(o(),n(h,{key:r,label:d.device.name??d.device.id,name:r},null,8,["label","name"]))),128))]),_:1},8,["active-bg-color","modelValue"])]),_:1},8,["class"]),t(N),t(V,{modelValue:e.currentDeviceId,"onUpdate:modelValue":l[2]||(l[2]=r=>e.currentDeviceId=r)},{default:a(()=>[(o(!0),f(_,null,b(e.bluetoothManager.deviceMap,([r,d])=>(o(),n(w,{key:r,class:"q-pa-none",name:r},{default:a(()=>[t(A,{separator:""},{default:a(()=>[(o(!0),f(_,null,b(d.messages,(s,Q)=>(o(),n(j,{key:Q,style:q({backgroundColor:s.type==="send"?"#003300":"#330000"}),class:"q-px-xs",dense:""},{default:a(()=>[t(I,null,{default:a(()=>[y("div",R,[y("div",G,[t(U,null,{default:a(()=>[i(c(Q),1)]),_:2},1024)]),t(L,{color:s.type==="send"?"green":"red",name:s.type==="send"?"mdi-call-made":"mdi-call-received",size:"sm"},null,8,["color","name"]),t(v,{class:"text-h6",style:{"white-space":"pre-line"}},{default:a(()=>[i(c(s.payload),1)]),_:2},1024)])]),_:2},1024),t(I,{side:""},{default:a(()=>[t(v,null,{default:a(()=>[i(c(e.i18n("labels.serviceId",{serviceId:s.serviceId})),1)]),_:2},1024),t(v,null,{default:a(()=>[i(c(e.i18n("labels.characteristicId",{characteristicId:s.characteristicId})),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style"]))),128))]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1})}const pe=D(K,[["render",H],["__file","BluetoothPage.vue"]]);export{pe as default};
