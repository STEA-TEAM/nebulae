import{c as me,j as ve,h as C,W as He,ap as Ae,aq as ge,ac as Be,ad as Ue,ae as Ve,af as Me,t as G,a0 as Qe,ag as Ne,a as L,w as te,g as pe,ar as Ee,S as Y,a7 as le,ab as oe,d as Re,P as W,as as Ke,A as M,_ as Q,C as _,D,E as c,F as l,J as O,K as S,T as B,at as K,au as H,U as I,Q as y,M as U,O as J,N as X,R as _e,a8 as Z,an as T,av as he,aw as be,I as ie}from"./index-CkmlDq5s.js";import{bus as Se}from"./bus-Dx35rC91.js";import{Q as ye,a as P}from"./QItem-C5ZHiONh.js";import{Q as F}from"./QItemLabel-aXRmSGyF.js";import{u as ze}from"./use-quasar-DX_ntCHW.js";import{c as N}from"./common-DE0SbnG8.js";import{a as j,h as ee,b as ae}from"./managers-DDv6KUjV.js";import{u as E}from"./vue-i18n.runtime-CmCsUbpb.js";import{Q as re}from"./QList-DzgQXkIT.js";import{u as V}from"./bluetooth-CDZPGnvR.js";import{Q as Ge}from"./QTooltip-C7iTEllS.js";import"./i18n-DDsdsaPU.js";import"./position-engine-D_l0NjWU.js";import"./selection-oP5RpDT_.js";const Ye=me({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(t,{slots:d,emit:r}){let e=!1,f,u,n=null,o=null,i,p;function b(){f&&f(),f=null,e=!1,n!==null&&(clearTimeout(n),n=null),o!==null&&(clearTimeout(o),o=null),u!==void 0&&u.removeEventListener("transitionend",i),i=null}function h(a,s,v){s!==void 0&&(a.style.height=`${s}px`),a.style.transition=`height ${t.duration}ms cubic-bezier(.25, .8, .50, 1)`,e=!0,f=v}function x(a,s){a.style.overflowY=null,a.style.height=null,a.style.transition=null,b(),s!==p&&r(s)}function g(a,s){let v=0;u=a,e===!0?(b(),v=a.offsetHeight===a.scrollHeight?0:void 0):(p="hide",a.style.overflowY="hidden"),h(a,v,s),n=setTimeout(()=>{n=null,a.style.height=`${a.scrollHeight}px`,i=w=>{o=null,(Object(w)!==w||w.target===a)&&x(a,"show")},a.addEventListener("transitionend",i),o=setTimeout(i,t.duration*1.1)},100)}function k(a,s){let v;u=a,e===!0?b():(p="show",a.style.overflowY="hidden",v=a.scrollHeight),h(a,v,s),n=setTimeout(()=>{n=null,a.style.height=0,i=w=>{o=null,(Object(w)!==w||w.target===a)&&x(a,"hide")},a.addEventListener("transitionend",i),o=setTimeout(i,t.duration*1.1)},100)}return ve(()=>{e===!0&&b()}),()=>C(He,{css:!1,appear:t.appear,onEnter:g,onLeave:k},d.default)}}),A=Ae({}),We=Object.keys(ge),ce=me({name:"QExpansionItem",props:{...ge,...Be,...Ue,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ve,"click","afterShow","afterHide"],setup(t,{slots:d,emit:r}){const{proxy:{$q:e}}=pe(),f=Me(t,e),u=G(t.modelValue!==null?t.modelValue:t.defaultOpened),n=G(null),o=Qe(),{show:i,hide:p,toggle:b}=Ne({showing:u});let h,x;const g=L(()=>`q-expansion-item q-item-type q-expansion-item--${u.value===!0?"expanded":"collapsed"} q-expansion-item--${t.popup===!0?"popup":"standard"}`),k=L(()=>t.contentInsetLevel===void 0?null:{["padding"+(e.lang.rtl===!0?"Right":"Left")]:t.contentInsetLevel*56+"px"}),a=L(()=>t.disable!==!0&&(t.href!==void 0||t.to!==void 0&&t.to!==null&&t.to!=="")),s=L(()=>{const m={};return We.forEach(q=>{m[q]=t[q]}),m}),v=L(()=>a.value===!0||t.expandIconToggle!==!0),w=L(()=>t.expandedIcon!==void 0&&u.value===!0?t.expandedIcon:t.expandIcon||e.iconSet.expansionItem[t.denseToggle===!0?"denseIcon":"icon"]),xe=L(()=>t.disable!==!0&&(a.value===!0||t.expandIconToggle===!0)),De=L(()=>({expanded:u.value===!0,detailsId:o.value,toggle:b,show:i,hide:p})),se=L(()=>{const m=t.toggleAriaLabel!==void 0?t.toggleAriaLabel:e.lang.label[u.value===!0?"collapse":"expand"](t.label);return{role:"button","aria-expanded":u.value===!0?"true":"false","aria-controls":o.value,"aria-label":m}});te(()=>t.group,m=>{x!==void 0&&x(),m!==void 0&&ue()});function Ce(m){a.value!==!0&&b(m),r("click",m)}function Ie(m){m.keyCode===13&&de(m,!0)}function de(m,q){q!==!0&&n.value!==null&&n.value.focus(),b(m),Ke(m)}function Le(){r("afterShow")}function Pe(){r("afterHide")}function ue(){h===void 0&&(h=Ee()),u.value===!0&&(A[t.group]=h);const m=te(u,$=>{$===!0?A[t.group]=h:A[t.group]===h&&delete A[t.group]}),q=te(()=>A[t.group],($,je)=>{je===h&&$!==void 0&&$!==h&&p()});x=()=>{m(),q(),A[t.group]===h&&delete A[t.group],x=void 0}}function Fe(){const m={class:[`q-focusable relative-position cursor-pointer${t.denseToggle===!0&&t.switchToggleSide===!0?" items-end":""}`,t.expandIconClass],side:t.switchToggleSide!==!0,avatar:t.switchToggleSide},q=[C(W,{class:"q-expansion-item__toggle-icon"+(t.expandedIcon===void 0&&u.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:w.value})];return xe.value===!0&&(Object.assign(m,{tabindex:0,...se.value,onClick:de,onKeyup:Ie}),q.unshift(C("div",{ref:n,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),C(P,m,()=>q)}function Oe(){let m;return d.header!==void 0?m=[].concat(d.header(De.value)):(m=[C(P,()=>[C(F,{lines:t.labelLines},()=>t.label||""),t.caption?C(F,{lines:t.captionLines,caption:!0},()=>t.caption):null])],t.icon&&m[t.switchToggleSide===!0?"push":"unshift"](C(P,{side:t.switchToggleSide===!0,avatar:t.switchToggleSide!==!0},()=>C(W,{name:t.icon})))),t.disable!==!0&&t.hideExpandIcon!==!0&&m[t.switchToggleSide===!0?"unshift":"push"](Fe()),m}function we(){const m={ref:"item",style:t.headerStyle,class:t.headerClass,dark:f.value,disable:t.disable,dense:t.dense,insetLevel:t.headerInsetLevel};return v.value===!0&&(m.clickable=!0,m.onClick=Ce,Object.assign(m,a.value===!0?s.value:se.value)),C(ye,m,Oe)}function qe(){return le(C("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:k.value,id:o.value},Re(d.default)),[[oe,u.value]])}function Te(){const m=[we(),C(Ye,{duration:t.duration,onShow:Le,onHide:Pe},qe)];return t.expandSeparator===!0&&m.push(C(Y,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:f.value}),C(Y,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:f.value})),m}return t.group!==void 0&&ue(),ve(()=>{x!==void 0&&x()}),()=>C("div",{class:g.value},[C("div",{class:"q-expansion-item__container relative-position"},Te())])}}),Je=Object.prototype.toString,ne=Object.prototype.hasOwnProperty,Xe=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(t=>"[object "+t+"]"));function fe(t){if(t!==Object(t)||Xe.has(Je.call(t))===!0||t.constructor&&ne.call(t,"constructor")===!1&&ne.call(t.constructor.prototype,"isPrototypeOf")===!1)return!1;let d;for(d in t);return d===void 0||ne.call(t,d)}function z(){let t,d,r,e,f,u,n=arguments[0]||{},o=1,i=!1;const p=arguments.length;for(typeof n=="boolean"&&(i=n,n=arguments[1]||{},o=2),Object(n)!==n&&typeof n!="function"&&(n={}),p===o&&(n=this,o--);o<p;o++)if((t=arguments[o])!==null)for(d in t)r=n[d],e=t[d],n!==e&&(i===!0&&e&&((f=Array.isArray(e))||fe(e)===!0)?(f===!0?u=Array.isArray(r)===!0?r:[]:u=fe(r)===!0?r:{},n[d]=z(i,u,e)):e!==void 0&&(n[d]=e));return n}const Ze=M({__name:"FilterLabelSection",props:{modelValue:{}},setup(t,{expose:d}){d();const r=t,e=N(E(),"components.BluetoothDeviceComponents.FilterLabelSection."),f=L(()=>{let i=[];return r.modelValue.name&&i.push(r.modelValue.name),r.modelValue.namePrefix&&i.push(r.modelValue.namePrefix+"*"),i.length===0?e("labels.noFilter"):i.join("; ")}),u=L(()=>{let i=[],p=[...r.modelValue.services??[]];return r.modelValue.serviceData&&r.modelValue.serviceData.length&&i.push(...r.modelValue.serviceData.map(({service:b,dataPrefix:h,mask:x})=>{p.splice(p.indexOf(b),1);let g=[];return h&&g.push(`${j(h)}*`),x&&g.push(`${j(x)}&`),`${String(b)}(${g.length?g.join(", "):"*"})`})),p.length&&i.push(...p.map(b=>`${String(b)}(*)`)),i.length===0?e("labels.noFilter"):i.join(", ")}),n=L(()=>r.modelValue.manufacturerData&&r.modelValue.manufacturerData.length?r.modelValue.manufacturerData.map(({companyIdentifier:i,dataPrefix:p,mask:b})=>{let h=[];return p&&h.push(`${j(p)}*`),b&&h.push(`${j(b)}&`),`0x${i}(${h.length?h.join(", "):"*"})`}).join(", "):e("labels.noFilter")),o={props:r,i18n:e,filterLabel:f,serviceFilterCaption:u,manufacturerFilterCaption:n};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function $e(t,d,r,e,f,u){return _(),D(P,null,{default:c(()=>[l(F,null,{default:c(()=>[O(S(e.filterLabel),1)]),_:1}),e.manufacturerFilterCaption?(_(),D(F,{key:0,caption:""},{default:c(()=>[O(S(e.i18n("labels.manufacturers"))+S(e.manufacturerFilterCaption),1)]),_:1})):B("",!0),e.serviceFilterCaption?(_(),D(F,{key:1,caption:""},{default:c(()=>[O(S(e.i18n("labels.services"))+S(e.serviceFilterCaption),1)]),_:1})):B("",!0)]),_:1})}const et=Q(Ze,[["render",$e],["__file","FilterLabelSection.vue"]]),tt=()=>!0;function at(t){const d={};return t.forEach(r=>{d[r]=tt}),d}function R(){const{emit:t,proxy:d}=pe(),r=G(null);function e(){r.value.show()}function f(){r.value.hide()}function u(o){t("ok",o),f()}function n(){t("hide")}return Object.assign(d,{show:e,hide:f}),{dialogRef:r,onDialogHide:n,onDialogOK:u,onDialogCancel:f}}const ke=["ok","hide"];R.emits=ke;R.emitsObject=at(ke);const nt=M({__name:"ManufacturerFilterDialog",props:{manufacturerData:{}},emits:[...R.emits],setup(t,{expose:d}){d();const r=t,{dialogRef:e,onDialogHide:f,onDialogOK:u}=R(),n=G([]);r.manufacturerData?.forEach(a=>{n.value.push({companyIdentifier:a.companyIdentifier.toString(16).toUpperCase(),dataPrefix:a?.dataPrefix?j(a.dataPrefix):"",mask:a?.mask?j(a.mask):""})});const o=N(E(),"components.BluetoothDeviceComponents.ManufacturerFilterDialog."),k={props:r,dialogRef:e,onDialogHide:f,onDialogOK:u,manufacturerFilterViewList:n,i18n:o,dataFilterLabel:a=>{let s=[];const v=n.value[a];return v?.dataPrefix&&s.push(v.dataPrefix),v?.mask&&s.push(v.mask),s.join("; ")},checkHexInput:a=>{/^.$/.test(a.key)&&!/^[0-9a-fA-F]$/.test(a.key)&&a.preventDefault()},updateServiceId:(a,s)=>{n.value[a].companyIdentifier=s?s?.toString().toUpperCase():""},updateServiceDataPrefix:(a,s)=>{n.value[a].dataPrefix=s?s?.toString().toUpperCase():""},updateServiceDataMask:(a,s)=>{n.value[a].mask=s?s?.toString().toUpperCase():""},onConfirm:()=>{let a=[];n.value.forEach(s=>{s.companyIdentifier.length&&a.push({companyIdentifier:+("0x"+s.companyIdentifier),dataPrefix:s.dataPrefix.length?ee(s.dataPrefix):void 0,mask:s.mask.length?ee(s.mask):void 0})}),u(a)}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),lt={class:"text-h5"},ot={class:"column q-gutter-y-sm q-pa-sm"};function it(t,d,r,e,f,u){return _(),D(be,{ref:"dialogRef",onHide:e.onDialogHide},{default:c(()=>[l(K,{class:"q-dialog-plugin hide-scrollbar"},{default:c(()=>[l(H,null,{default:c(()=>[I("div",lt,S(e.i18n("labels.title")),1)]),_:1}),l(H,{class:"column q-gutter-y-md"},{default:c(()=>[l(y,{icon:"add",label:e.i18n("labels.addFilter"),color:"accent",dense:"","no-caps":"",onClick:d[0]||(d[0]=n=>e.manufacturerFilterViewList.push({companyIdentifier:"",dataPrefix:"",mask:""}))},null,8,["label"]),e.manufacturerFilterViewList.length?(_(),D(re,{key:0,bordered:"",separator:""},{default:c(()=>[(_(!0),U(J,null,X(e.manufacturerFilterViewList,(n,o)=>(_(),D(ce,{key:o,"default-opened":o===e.manufacturerFilterViewList.length-1,group:"service-filter-view-list","switch-toggle-side":""},{header:c(()=>[l(P,null,{default:c(()=>[l(F,{class:_e({"text-grey text-italic":!n.companyIdentifier.length})},{default:c(()=>[O(S(n.companyIdentifier.length===0?e.i18n("labels.noId"):n.companyIdentifier),1)]),_:2},1032,["class"]),e.dataFilterLabel(o)?(_(),D(F,{key:0,caption:""},{default:c(()=>[O(S(e.dataFilterLabel(o)),1)]),_:2},1024)):B("",!0)]),_:2},1024),l(P,{side:""},{default:c(()=>[l(y,{color:"negative",flat:"",icon:"mdi-delete",round:"",onClick:Z(i=>e.manufacturerFilterViewList.splice(o,1),["prevent","stop"])},null,8,["onClick"])]),_:2},1024)]),default:c(()=>[I("div",ot,[l(T,{"model-value":n.companyIdentifier,clearable:"",outlined:"",label:e.i18n("labels.id"),type:"text",onKeydown:e.checkHexInput,"onUpdate:modelValue":i=>e.updateServiceId(o,i)},null,8,["model-value","label","onUpdate:modelValue"]),l(T,{"model-value":n.dataPrefix,clearable:"",outlined:"",label:e.i18n("labels.prefix"),type:"text",onKeydown:e.checkHexInput,"onUpdate:modelValue":i=>e.updateServiceDataPrefix(o,i)},null,8,["model-value","label","onUpdate:modelValue"]),l(T,{"model-value":n.mask,clearable:"",outlined:"",label:e.i18n("labels.mask"),type:"text",onKeydown:e.checkHexInput,"onUpdate:modelValue":i=>e.updateServiceDataMask(o,i)},null,8,["model-value","label","onUpdate:modelValue"])])]),_:2},1032,["default-opened"]))),128))]),_:1})):B("",!0)]),_:1}),l(he,{align:"right"},{default:c(()=>[l(y,{color:"primary",flat:"",label:e.i18n("labels.confirm"),"no-caps":"",onClick:e.onConfirm},null,8,["label"]),l(y,{label:e.i18n("labels.cancel"),"no-caps":"",outline:"",onClick:e.onDialogHide},null,8,["label","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"])}const rt=Q(nt,[["render",it],["__file","ManufacturerFilterDialog.vue"]]),ct=M({__name:"ServiceFilterDialog",props:{services:{},serviceData:{}},emits:[...R.emits],setup(t,{expose:d}){d();const r=t,{dialogRef:e,onDialogHide:f,onDialogOK:u}=R(),n=G([]);r.services?.forEach((a,s)=>{const v=r.serviceData?.[s];n.value.push({service:String(a),dataPrefix:v?.dataPrefix?j(v.dataPrefix):"",mask:v?.mask?j(v.mask):""})});const o=N(E(),"components.BluetoothDeviceComponents.ServiceFilterDialog."),k={props:r,dialogRef:e,onDialogHide:f,onDialogOK:u,serviceFilterViewList:n,i18n:o,dataFilterLabel:a=>{let s=[];const v=n.value[a];return v?.dataPrefix&&s.push(v.dataPrefix),v?.mask&&s.push(v.mask),s.join("; ")},checkHexInput:a=>{/^.$/.test(a.key)&&!/^[0-9a-fA-F]$/.test(a.key)&&a.preventDefault()},updateServiceId:(a,s)=>{n.value[a].service=(s??"").toString()},updateServiceDataPrefix:(a,s)=>{n.value[a].dataPrefix=s?s?.toString().toUpperCase():""},updateServiceDataMask:(a,s)=>{n.value[a].mask=s?s?.toString().toUpperCase():""},onConfirm:()=>{let a=[],s=[];n.value.forEach(v=>{v.service.length&&(a.push(v.service),(v.dataPrefix.length||v.mask.length)&&s.push({service:v.service,dataPrefix:v.dataPrefix.length?ee(v.dataPrefix):void 0,mask:v.mask.length?ee(v.mask):void 0}))}),u({services:a,serviceData:s})}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),st={class:"text-h5"},dt={class:"column q-gutter-y-sm q-pa-sm"};function ut(t,d,r,e,f,u){return _(),D(be,{ref:"dialogRef",onHide:e.onDialogHide},{default:c(()=>[l(K,{class:"q-dialog-plugin hide-scrollbar"},{default:c(()=>[l(H,null,{default:c(()=>[I("div",st,S(e.i18n("labels.title")),1)]),_:1}),l(H,{class:"column q-gutter-y-md"},{default:c(()=>[l(y,{icon:"add",label:e.i18n("labels.addFilter"),color:"primary",dense:"","no-caps":"",onClick:d[0]||(d[0]=n=>e.serviceFilterViewList.push({service:"",dataPrefix:"",mask:""}))},null,8,["label"]),e.serviceFilterViewList.length?(_(),D(re,{key:0,bordered:"",separator:""},{default:c(()=>[(_(!0),U(J,null,X(e.serviceFilterViewList,(n,o)=>(_(),D(ce,{key:o,"default-opened":o===e.serviceFilterViewList.length-1,group:"service-filter-view-list","switch-toggle-side":""},{header:c(()=>[l(P,null,{default:c(()=>[l(F,{class:_e({"text-grey text-italic":!n.service.length})},{default:c(()=>[O(S(n.service.length===0?e.i18n("labels.noId"):n.service),1)]),_:2},1032,["class"]),e.dataFilterLabel(o)?(_(),D(F,{key:0,caption:""},{default:c(()=>[O(S(e.dataFilterLabel(o)),1)]),_:2},1024)):B("",!0)]),_:2},1024),l(P,{side:""},{default:c(()=>[l(y,{color:"negative",flat:"",icon:"mdi-delete",round:"",onClick:Z(i=>e.serviceFilterViewList.splice(o,1),["prevent","stop"])},null,8,["onClick"])]),_:2},1024)]),default:c(()=>[I("div",dt,[l(T,{"model-value":n.service,clearable:"",outlined:"",label:e.i18n("labels.id"),type:"text","onUpdate:modelValue":i=>e.updateServiceId(o,i)},null,8,["model-value","label","onUpdate:modelValue"]),l(T,{"model-value":n.dataPrefix,clearable:"",outlined:"",label:e.i18n("labels.prefix"),type:"text",onKeydown:e.checkHexInput,"onUpdate:modelValue":i=>e.updateServiceDataPrefix(o,i)},null,8,["model-value","label","onUpdate:modelValue"]),l(T,{"model-value":n.mask,clearable:"",outlined:"",label:e.i18n("labels.mask"),type:"text",onKeydown:e.checkHexInput,"onUpdate:modelValue":i=>e.updateServiceDataMask(o,i)},null,8,["model-value","label","onUpdate:modelValue"])])]),_:2},1032,["default-opened"]))),128))]),_:1})):B("",!0)]),_:1}),l(he,{align:"right"},{default:c(()=>[l(y,{color:"primary",flat:"",label:e.i18n("labels.confirm"),"no-caps":"",onClick:e.onConfirm},null,8,["label"]),l(y,{label:e.i18n("labels.cancel"),"no-caps":"",outline:"",onClick:e.onDialogHide},null,8,["label","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"])}const ft=Q(ct,[["render",ut],["__file","ServiceFilterDialog.vue"]]),mt=M({__name:"DeviceFilters",props:{mini:{type:Boolean,default:!1}},setup(t,{expose:d}){d();const{dialog:r}=ze(),{currentFilters:e}=ie(V()),{addFilter:f,removeFilter:u}=V(),n=N(E(),"components.BluetoothDeviceComponents.DeviceFilters."),x={dialog:r,currentFilters:e,addFilter:f,removeFilter:u,i18n:n,openFilterDialog:()=>{console.log("openFilterDialog")},updateName:(g,k)=>{let a=z({},e.value[g]);a.name=k?.toString()??void 0,e.value[g]=a},updateNamePrefix:(g,k)=>{let a=z({},e.value[g]);a.namePrefix=k?.toString()??void 0,e.value[g]=a},editManufacturers:g=>{r({component:rt,componentProps:{manufacturerData:e.value[g].manufacturerData}}).onOk(k=>{let a=z({},e.value[g]);a.manufacturerData=k,console.log(a),e.value[g]=a})},editServices:g=>{r({component:ft,componentProps:{services:e.value[g].services,serviceData:e.value[g].serviceData}}).onOk(k=>{let a=z({},e.value[g]);a.services=k.services,a.serviceData=k.serviceData,e.value[g]=a})},FilterLabelSection:et};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),vt={class:"row justify-between"},gt={class:"text-h6"},pt={key:0,class:"column q-mx-md"},_t={class:"column q-pa-sm q-gutter-y-sm"},ht={class:"row q-gutter-sm"};function bt(t,d,r,e,f,u){return _(),D(K,{bordered:"",flat:""},{default:c(()=>[l(H,null,{default:c(()=>[I("div",vt,[I("div",gt,S(e.i18n("labels.deviceFilters")),1),l(y,{icon:r.mini?"settings":"add",label:e.i18n(`labels.${r.mini?"editFilters":"addFilter"}`),color:"accent","no-caps":"",onClick:d[0]||(d[0]=n=>r.mini?e.openFilterDialog():e.addFilter())},null,8,["icon","label"])])]),_:1}),le(l(Y,{inset:""},null,512),[[oe,e.currentFilters.length]]),r.mini?B("",!0):(_(),U("div",pt,[(_(!0),U(J,null,X(e.currentFilters,(n,o)=>(_(),D(ce,{key:o,group:"device-filters","switch-toggle-side":""},{header:c(()=>[l(e.FilterLabelSection,{"model-value":n},null,8,["model-value"]),l(P,{side:""},{default:c(()=>[l(y,{color:"negative",flat:"",icon:"mdi-delete",round:"",onClick:Z(i=>e.removeFilter(o),["prevent","stop"])},null,8,["onClick"])]),_:2},1024)]),default:c(()=>[I("div",_t,[l(T,{"model-value":n.name,placeholder:e.i18n("hints.nameFilter"),clearable:"",dense:"","onUpdate:modelValue":i=>e.updateName(o,i)},{before:c(()=>[l(W,{name:"search"})]),after:c(()=>[l(y,{dense:"",flat:"",icon:"mdi-dots-vertical",round:""})]),_:2},1032,["model-value","placeholder","onUpdate:modelValue"]),l(T,{"model-value":n.namePrefix,placeholder:e.i18n("hints.namePrefixFilter"),clearable:"",dense:"","onUpdate:modelValue":i=>e.updateNamePrefix(o,i)},{before:c(()=>[l(W,{name:"mdi-regex"})]),after:c(()=>[l(y,{dense:"",flat:"",icon:"mdi-dots-vertical",round:""})]),_:2},1032,["model-value","placeholder","onUpdate:modelValue"]),I("div",ht,[l(y,{label:e.i18n("labels.editManufacturers"),class:"col-grow",color:"amber",dense:"",icon:"mdi-factory","no-caps":"",outline:"",onClick:i=>e.editManufacturers(o)},null,8,["label","onClick"]),l(y,{label:e.i18n("labels.editServices"),class:"col-grow",color:"amber",dense:"",icon:"mdi-chart-donut-variant","no-caps":"",outline:"",onClick:i=>e.editServices(o)},null,8,["label","onClick"])])])]),_:2},1024))),128))]))]),_:1})}const St=Q(mt,[["render",bt],["__file","DeviceFilters.vue"]]),yt=M({__name:"OptionalServices",setup(t,{expose:d}){d();const{currentOptionalServices:r}=ie(V()),{addOptionalService:e,removeOptionalService:f}=V(),u=N(E(),"components.BluetoothDeviceComponents.OptionalServices."),i={currentOptionalServices:r,addOptionalService:e,removeOptionalService:f,i18n:u,saveAndLoad:()=>{console.log("saveAndLoad")},updateServiceId:(p,b)=>{r.value[p]=(b??"").toString()}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),kt={class:"row justify-between items-center"},xt={class:"text-h6"};function Dt(t,d,r,e,f,u){return _(),D(K,{bordered:"",flat:""},{default:c(()=>[l(H,null,{default:c(()=>[I("div",kt,[I("div",xt,S(e.i18n("labels.title")),1),l(y,{label:e.i18n("labels.saveAndLoad"),color:"accent",dense:"",icon:"mdi-book-sync-outline","no-caps":"",onClick:e.saveAndLoad},null,8,["label"]),l(y,{label:e.i18n("labels.addService"),color:"primary",dense:"",icon:"mdi-chart-donut","no-caps":"",onClick:e.addOptionalService},null,8,["label","onClick"])])]),_:1}),le(l(Y,{inset:""},null,512),[[oe,e.currentOptionalServices.length]]),l(H,{class:"q-gutter-y-sm"},{default:c(()=>[(_(!0),U(J,null,X(e.currentOptionalServices,(n,o)=>(_(),D(T,{key:o,"model-value":n,placeholder:e.i18n("labels.serviceId"),clearable:"",dense:"",outlined:"",type:"text","onUpdate:modelValue":i=>e.updateServiceId(o,i)},{after:c(()=>[l(y,{color:"negative",flat:"",icon:"mdi-delete",round:"",onClick:Z(i=>e.removeOptionalService(o),["prevent","stop"])},null,8,["onClick"])]),_:2},1032,["model-value","placeholder","onUpdate:modelValue"]))),128))]),_:1})]),_:1})}const Ct=Q(yt,[["render",Dt],["__file","OptionalServices.vue"]]),It=M({__name:"RecognizedDevices",setup(t,{expose:d}){d();const{recognizedDevices:r}=ie(V()),{connect:e,removeRecognizedDevice:f}=V(),u=N(E(),"components.BluetoothDeviceComponents.RecognizedDevices."),o={recognizedDevices:r,connect:e,removeRecognizedDevice:f,i18n:u,toggleDevice:async i=>{if(ae.deviceMap.has(i)){await ae.disconnect(i);return}await e(i)&&Se.emit("drawer","close","right")},get bluetoothManager(){return ae}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),Lt={class:"text-h6"};function Pt(t,d,r,e,f,u){return _(),D(K,{bordered:"",flat:""},{default:c(()=>[l(H,null,{default:c(()=>[I("div",Lt,S(e.i18n("labels.recognizedDevices")),1)]),_:1}),l(Y,{inset:""}),l(re,{class:"q-mx-md"},{default:c(()=>[(_(!0),U(J,null,X(e.recognizedDevices,(n,o,i)=>(_(),D(ye,{key:i,active:e.bluetoothManager.deviceMap.has(n.id),"active-class":"text-positive",clickable:"",onClick:p=>e.toggleDevice(o.toString())},{default:c(()=>[l(P,{avatar:""},{default:c(()=>[l(W,{name:e.bluetoothManager.deviceMap.has(n.id)?"mdi-bluetooth":"mdi-bluetooth-off"},null,8,["name"])]),_:2},1024),l(P,null,{default:c(()=>[l(F,null,{default:c(()=>[O(S(e.i18n("labels.deviceName"))+" "+S(n.name??e.i18n("labels.noName")),1)]),_:2},1024),l(F,{class:"text-grey",caption:""},{default:c(()=>[O(S(e.i18n("labels.deviceId"))+S(n.id),1)]),_:2},1024)]),_:2},1024),l(P,{side:""},{default:c(()=>[l(y,{color:"negative",flat:"",icon:"mdi-delete",round:"",onClick:Z(p=>e.removeRecognizedDevice(o),["prevent","stop"])},null,8,["onClick"])]),_:2},1024),l(Ge,{anchor:"top middle",offset:[10,10],self:"bottom middle"},{default:c(()=>[O(S(n.options),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})}const Ft=Q(It,[["render",Pt],["__file","RecognizedDevices.vue"]]),Ot=M({__name:"BluetoothDevices",props:{mini:{type:Boolean,default:!1}},setup(t,{expose:d}){d();const{connect:r}=V(),e=N(E(),"components.BluetoothDevices."),u={connect:r,i18n:e,connectDevice:async()=>{await r()&&Se.emit("drawer","close","right")},DeviceFilters:St,OptionalServices:Ct,RecognizedDevices:Ft};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),wt={class:"column q-pa-sm q-gutter-sm"},qt={class:"row justify-between"},Tt={class:"text-h5"};function jt(t,d,r,e,f,u){return _(),U("div",wt,[l(K,{bordered:"",class:"q-pa-sm q-gutter-y-sm",flat:""},{default:c(()=>[I("div",null,[I("div",qt,[I("div",Tt,S(e.i18n("labels.deviceFinder")),1),l(y,{label:e.i18n("labels.search"),color:"positive",icon:"mdi-bluetooth-connect","no-caps":"",onClick:e.connectDevice},null,8,["label"])])]),I("div",null,[l(e.OptionalServices)]),I("div",null,[l(e.DeviceFilters,{mini:r.mini},null,8,["mini"])])]),_:1}),l(e.RecognizedDevices)])}const Wt=Q(Ot,[["render",jt],["__file","BluetoothDevices.vue"]]);export{Wt as default};
